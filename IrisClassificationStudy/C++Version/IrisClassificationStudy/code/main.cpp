//
//  main.cpp
//  IrisClassificationStudy
//
//  Created by ivastival on 10/11/21.
//

#include <iostream>

//#include "Perceptron.hpp"
//#include "Adaline.hpp"
#include "AdalineSGD.hpp"
#include "Utils.hpp"
#include "UtilsMath.hpp"

bool _DEBUG = false;

int main(int argc, const char * argv[]) {
    
    vector<vector<float>> x = { { 1.14177101,  0.99770792 },
                                { 0.04542025,  1.06708956 },
                                {-1.20755205, -0.87559625 },
                                { 0.51528486,  0.85894465 },
                                {-0.11120129, -0.80621461 },
                                { 0.51528486,  0.72018138 },
                                {-0.42444437, -1.01435952 },
                                {-0.73768744, -0.87559625 },
                                { 0.98514947,  1.27523447 },
                                { 0.20204178,  1.1364712  },
                                {-0.5810659 , -0.66745134 },
                                { 2.39474331,  1.27523447 },
                                { 1.76825716,  1.20585283 },
                                { 0.35866332,  1.1364712  },
                                { 0.35866332,  0.92832629 },
                                {-0.42444437, -0.94497788 },
                                {-0.5810659 , -0.94497788 },
                                {-1.36417359, -1.29188606 },
                                { 0.04542025,  0.65079974 },
                                { 0.98514947,  0.78956302 },
                                {-1.52079513, -1.08374115 },
                                {-0.26782283, -0.94497788 },
                                {-1.36417359, -1.01435952 },
                                { 0.35866332,  0.44265484 },
                                { 2.23812177,  1.41399774 },
                                {-0.11120129, -1.08374115 },
                                { 1.61163562,  1.20585283 },
                                { 0.04542025,  0.78956302 },
                                { 0.20204178,  0.51203647 },
                                {-0.42444437,  0.72018138 },
                                {-1.8340382 , -1.22250442 },
                                {-0.73768744, -1.01435952 },
                                { 0.82852793,  1.55276101 },
                                {-0.73768744, -1.08374115 },
                                {-1.05093052, -0.87559625 },
                                {-1.67741667, -1.08374115 },
                                {-1.36417359, -1.01435952 },
                                { 1.92487869,  1.48337938 },
                                { 0.20204178,  0.92832629 },
                                { 1.92487869,  1.27523447 },
                                {-0.73768744,  0.30389157 },
                                {-0.11120129, -0.94497788 },
                                { 0.04542025, -1.08374115 },
                                { 0.20204178,  0.85894465 },
                                { 1.29839254,  1.27523447 },
                                {-0.5810659 ,  0.09574666 },
                                { 0.98514947,  1.20585283 },
                                {-0.5810659 , -1.01435952 },
                                { 0.04542025,  0.58141811 },
                                {-1.05093052, -0.66745134 },
                                {-0.89430898, -0.94497788 },
                                {-1.05093052, -1.01435952 },
                                { 1.29839254,  1.06708956 },
                                {-1.67741667, -1.01435952 },
                                {-0.5810659 , -0.87559625 },
                                { 1.29839254,  1.41399774 },
                                {-0.89430898,  0.30389157 },
                                { 0.04542025,  0.78956302 },
                                { 0.51528486, -1.15312279 },
                                { 1.92487869,  1.06708956 },
                                { 0.35866332, -0.94497788 },
                                { 1.14177101,  1.1364712  },
                                {-0.73768744, -1.15312279 },
                                { 0.82852793,  1.1364712  },
                                { 0.6719064 ,  0.92832629 },
                                { 0.35866332,  0.92832629 },
                                {-0.42444437, -0.94497788 },
                                {-1.36417359, -0.94497788 },
                                {-1.05093052, -0.87559625 },
                                { 1.76825716,  1.06708956 } };
    
    vector<int> y = { 1, 1, 0, 1, 0, 1, 0, 0, 1, 1, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 1, 0, 0, 0, 1, 0, 0, 1, 1, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 0, 0, 1 };
    
    for(vector<int>::iterator it = y.begin(); it != y.end(); ++it){
        if(~*it) *it = -1;
    }
//    Perceptron perceptron;
//    perceptron.fit(x, y);
//    perceptron.printErrors();
    
//    Adaline ada(0.01, 10, 45, true);
//    ada.fit(x,y);
//
//    Utils::printMatrix(ada.getCost());
    
    AdalineSGD ada_sgd(0.01, 10, 45, true);
    
//    ada_sgd.fit(x,y);
    ada_sgd.shuffle(x);
    

    return 0;
}
